\RequirePackage[]{silence}
\WarningFilter{latex}{Marginpar on page}
\WarningFilter{lcg}{Using an already existing counter rand}
\documentclass[article, oneside]{aaltoseries}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{IEEEtrantools}
\usepackage[hyphens]{url} % allow hyphens to break urls
\Urlmuskip=0mu  plus 1mu % allow for some spacing inside urls
\usepackage[hidelinks]{hyperref}
\usepackage[acronym]{glossaries}
\usepackage{amsfonts}
\usepackage{todonotes}
\usepackage[normalem]{ulem}
\usepackage{xcolor}
\usepackage{xspace}
\usepackage{textcomp}
\usepackage{etoolbox}
\usepackage[numbers]{natbib}
\newcommand{\TODO}[1]{\todo[inline]{#1}}
\newcommand{\jwnote}[1]{\todo[author=jorden,size=\small,inline,color=orange!60]{#1}}
\newcommand{\jwnoteB}[1]{\todo[author=jorden,size=\small,color=orange!60]{#1}}
\newcommand{\modif}[1]{\textcolor{blue}{#1}}
\newcommand{\jwdiscuss}[1]{\todo[fancyline,author=jorden,size=\small,color=blue!50]{#1}}
\newcommand{\discuss}[1]{\todo[fancyline,size=\small,color=blue!50]{#1}}

\geometry{left=4cm,right=4cm,marginparwidth=3.5cm,marginparsep=5mm} % TODO: remove
% \geometry{left=1cm,right=7cm,marginparwidth=6.5cm,marginparsep=5mm} % TODO: remove
% \reversemarginpar % for todo notes on the wider side

% Use “\tocite{}” to get “citation needed” in document
\newcommand\tocite[1]{
	\todo{\ifstrempty{#1}{Citation needed}{#1}}
	[\,\textbf{\color{red}!}\,]
}


% ************************ Custom Referencing **********************************
\newcommand{\Fref}[1]{Figure~\ref{#1}}
\newcommand{\fref}[1]{figure~\ref{#1}}
\newcommand{\Tref}[1]{Table~\ref{#1}}
\newcommand{\tref}[1]{table~\ref{#1}}
\newcommand{\Eref}[1]{Equation~\ref{#1}}
\newcommand{\eref}[1]{equation~\ref{#1}}
\newcommand{\Sref}[1]{Section~\ref{#1}}
\newcommand{\sref}[1]{section~\ref{#1}}
\newcommand{\Lref}[1]{Listing~\ref{#1}}
\newcommand{\lref}[1]{listing~\ref{#1}}


\newcommand{\app}[1]{A\textsc{pp}$_{#1}$\xspace}

\newacronym{os}{OS}{operating system}

\title{Android App Collusion}


\author{Ervin Oro% Your first and last name: do _not_ add your student number
\\\textnormal{\texttt{ervin.oro@aalto.fi}}} % Your Aalto e-mail address
\affiliation{\textbf{Tutor}: Jorden Whitefield} % First and last name of your tutor

%==========================================================

\begin{document}
\bstctlcite{BSTcontrol}

\maketitle
\todo{set proper margins and document format}
%==========================================================

\begin{abstract}
\TODO{abstract}

\vspace{3mm}
\noindent KEYWORDS: \todo[inline, inlinewidth=5cm, noinlinepar]{list, of, key, words}

\end{abstract}

%============================================================

\section{Introduction}
\label{sec:intro}

Android is an \gls{os} that is primarily designed for mobile devices. With more than two billion active devices~\cite{AOSP2018}, it is estimated to be the most widely used \gls{os}, surpassing even Windows~\cite{AWSLLC2018, StatCounter2018}. Android is designed to be an open platform: developed and maintained by Google LLC, but largely released as the Android Open Source Project for everyone to study and build upon \cite{AOSP2019c}. It also includes support for apps, which are easily installable application packages that may extend the functionality of devices. Apps can be developed and distributed by anyone with very low barrier of entry.

While this popularity of Android is not reflected by the proportion of malware attacks, most of which still target Windows, both the number and complexity of attacks against Android are increasing~\cite{AVTESTGH2018}. This is especially troublesome as many people increasingly rely on their phones -- often to keep their personal data, online account credentials, money, and more. \citeauthor{McAfee2018} estimates that revenues for mobile malware authors could be in the billion-dollar range by 2020 \cite{McAfee2018}.

Given the increasing potential damage from Android malware, defending against it is an active area of research. Android uses a multi-layer security approach~\cite{AOSP2018}: Google regularly removes potentially harmful applications from its Play Store, and has developed Play Protect\footnote{\url{https://www.android.com/play-protect/}} to also scan applications from other sources. Additionally, Android's platform security has been enhanced over the years with features like SELinux protections\footnote{\url{https://source.android.com/security/selinux/}}, exploit mitigations\footnote{\url{https://lwn.net/Articles/695991/}}, privilege reductions\footnote{\url{https://android-developers.googleblog.com/2017/07/seccomp-filter-in-android-o.html}}, encryption, and Verified Boot. Recent versions of Android make use of hardware security features and receive regular updates. These measures have been partially successful, as exploit pricing and difficulty are growing by some estimates~\cite{AOSP2018}.

However, malicious actors are looking for ways to bypass existing protections, and a number of threats, e.g., app collusion, cannot yet be reliably detected nor defended against. App collusion is a secret collaboration between apps with malicious intent  (\Sref{sec:def}). This can be facilitated by any of the numerous ways for apps to communicate with each other that the Android system provides (\Sref{sec:methods}). Methods for apps to collude also exist on the iOS platform \cite{Deshotels2016}. Given a malicious app that would be detected and blocked with state of the art security systems, its functionality could be easily split into several apps, so that each of them would be categorized as benign when analysed separately~\cite{Chen2018}.

Android app collusion is not a new concept~\cite{Schlegel2011}, and multiple attempts have been made to develop a suitable detection system. \TODO{brief overview of existing approaches based on \Sref{sec:approaches}}
% Filtering
% 	rule-based
% 	machine learning
% model based
% runtime

However, there still does not exists any robust and usable ways to detect app collusions. Most proposed solutions have a large number of false positives due to an inability to differentiate collusion from legitimate collaboration. Furthermore, since the number of possible combinations is exponential in the number of apps, that is, $N^N$, most proposed solutions apply very aggressive filtering, causing only some malicious combinations to be included into analysis, and others to be reported as false negatives. Finally, approaches attempting to overcome both of these issues have been computationally infeasible thus far. Therefore, app collusion remains an open research challenge.

This report aims to provide an overview of app collusion on the Android platform as follows. \Sref{sec:def} discusses the nature of app collusions in general,~\Sref{sec:methods} provides specific overview of methods that can be used for colluding on Android,~\Sref{sec:examples} describes known examples of colluding apps, and~\Sref{sec:approaches} gives a more in-depth systematic overview of approaches that have been taken to collusion detection and their limitations.

\section{Description and definition of app collusion}
\label{sec:def}

The Oxford English Dictionary defines collusion as ``Secret agreement or understanding for purposes of trickery or fraud; underhand scheming or working with another; deceit, fraud, trickery''~\cite{OEDcollusion}. \citeauthor{Asavoae2017}~\cite{Asavoae2017} define collusion for the case of Android apps as the situation where several apps are working together in performing a threat. According to these definitions, app collusion must have following three properties:

\begin{enumerate}
	
	\item Colluding apps must be working together secretly. Conversely, apps working together in collaboration is common and encouraged practice when such collaboration is well documented \tocite{}.

	\item All colluding apps must be in agreement. A distinctly different but related concept is the ``confused deputy'' attack, where one app mistakenly exposes itself to other installed apps \tocite{Hardy, N.: The confused deputy:(or why capabilities might have been invented. ACMSIGOPS Operating Systems Review 22(4), 36–38 (1988)}.

	\item Colluding apps must have malicious intent. The intent of Android app collusion would then be to violate one of Android's security goals, which are defined in \cite{AOSP2019} as:
	\jwdiscuss{I also wonder if it is worth mentioning OWASP Mobile top 10	security... \url{https://www.owasp.org/index.php/Mobile\_Top\_10\_2016-Top\_10}}
	\begin{singleenums}
		\item to protect app data, user data, and system resources (including the network),
		\item to provide app isolation from the system, other apps, and the user.
	\end{singleenums}
	It is important to note that the goal b is not to enforce isolation, but merely to provide isolation for those who want it. As such, apps working together do not automatically violate goal b, but it would be collusion if apps worked together to break isolation with some other non-content app, the system, or the user.
\end{enumerate}

\TODO{many things affect, including non technical}

\TODO{difficult to distinguish}

\TODO{alternative definition \cite{Xu2017}}

\section{Methods for colluding}
\label{sec:methods}

\TODO{Mention Access Control policies, SEAndroid}
\subsection{Overt channels}
\subsection{Covert channels}

\section{Examples of Android app collusion}
\label{sec:examples}

\TODO{Completely rewrite; include a diagram to illustrate}
\sout{A very widely cited example of collusion is an imaginary situation as follows.} \modif{Blah et al. [x] define an example of an Android app collusion as follows:} \jwnote{Make the points below a numbered list perhaps. Easier to follow. With a list of numbered steps I would then also think about if a nice diagram could be made, and numbered to correspond to each step described?} One app \modif{, \app{A},} has access sensitive information, but no access to internet. Another app, \modif{\app{B},} \sout{on the other hand,} has access to internet, but no access to any sensitive information. Many authors \tocite{} argue that in this case, one app could pass information to the other one, which could in turn then exfiltrate the information. Some authors \tocite{} have extended this concept to also cover cases where data is passed to multiple apps before being finally exfiltrated. All current research focuses on detecting such situations.

\jwnote{The steps are not clear as it is mixed in with discussion. Need to
spend some time separating these.}

There is one known case of Android app collusion in the wild~\cite{Blasco2016}. Interestingly enough, even though this example is also widely referred to \tocite{list some references}, it does not follow the pattern described above. \jwnote{This last paragraph is very informal and chatty. This is ok for the draft but would need to be rewritten.} \todo{short description of MoPlus SDK} 

\section{Existing methods for detecting collusions}
\label{sec:approaches}

%============================================================

\nocite{*}
\bibliographystyle{IEEEtranN}
\bibliography{ieee,oro-cs-seminar}
\TODO{format bibliography}
\TODO{remove nocite}

\listoftodos
\TODO{remove list of todos}

\end{document}
